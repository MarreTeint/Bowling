{"ast":null,"code":"var _jsxFileName = \"/home/death-joke/Bureau/App4/qualit\\xE9 logiciel/Bowling1.1/bowlingv2/src/scoreManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport { scoreListContext } from \"./context/scorelist\";\nimport { playerListContext } from \"./context/playerlist\";\nimport { roundContext } from \"./context/round\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScoreManager = () => {\n  _s();\n  const {\n    scoreList,\n    setScoreList\n  } = useContext(scoreListContext);\n  const {\n    playerList\n  } = useContext(playerListContext);\n  const {\n    round,\n    setRound\n  } = useContext(roundContext);\n  const [lance, setLance] = React.useState(0);\n  const [player, setPlayer] = React.useState(0);\n  const updateScore = (player, lance, score) => {\n    var newScoreList = scoreList;\n    if (score === 10 && (lance % 2 === 0 || lance === 19)) {\n      newScoreList[player][lance] = 'X';\n    } else if (score + +scoreList[player][lance - 1] === 10 && lance % 2 === 1) {\n      newScoreList[player][lance] = '/';\n    } else {\n      newScoreList[player][lance] = score.toString();\n    }\n    setScoreList(newScoreList);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"scoreManager\",\n    children: [\"Au tour de \", playerList[player], /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 44\n    }, this), \"Tour n\\xB0\", round, \" | Lance n\\xB0\", lance + 1, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 47\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"quilles\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"0\",\n        children: \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"1\",\n        children: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"2\",\n        children: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"3\",\n        children: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"4\",\n        children: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"5\",\n        children: \"5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"6\",\n        children: \"6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"7\",\n        children: \"7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"8\",\n        children: \"8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"9\",\n        children: \"9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"10\",\n        children: \"10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"quillesupdate\",\n      onClick: () => {\n        var score = document.getElementById(\"quilles\");\n        var scoreValue = parseInt(score.value);\n        var numlance = 2 * round - 2 + lance;\n        if (round < 10 && lance === 1 && scoreValue + +scoreList[player][numlance - 1] <= 10 || round === 10 || lance === 0) {\n          updateScore(player, numlance, scoreValue);\n          if (round < 10) {\n            if (scoreValue === 10 && lance === 0) {\n              setLance(0);\n              if (player === 1) {\n                setRound(round + 1);\n              }\n            } else {\n              setLance((lance + 1) % 2);\n            }\n            if (player === 1 && lance === 1) {\n              setRound(round + 1);\n            }\n            if ((lance === 1 || lance === 0) && scoreValue === 10) {\n              setPlayer((player + 1) % 2);\n            }\n          } else {\n            //round 10\n\n            if (lance === 2 && player === 1) {\n              var _document$getElementB, _document$getElementB2;\n              (_document$getElementB = document.getElementById(\"quilles\")) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.remove(); //end game\n              (_document$getElementB2 = document.getElementById(\"quillesupdate\")) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.remove(); //end game\n              setLance(0);\n            } else if (lance === 2) {\n              setPlayer(1);\n              setLance(0);\n            }\n            if (lance === 1 && scoreList[player][numlance - 1] === 'X' || scoreList[player][numlance] === '/') {\n              setLance(2);\n            } else if (lance === 1 && player === 1) {\n              var _document$getElementB3;\n              (_document$getElementB3 = document.getElementById(\"quillesupdate\")) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.remove(); //end game\n              setLance(0);\n            } else if (lance === 1) {\n              setPlayer(1);\n              setLance(0);\n            } else if (lance !== 2) {\n              setLance((lance + 1) % 2);\n            }\n          }\n        } else {\n          alert(\"Score invalide\");\n        }\n      },\n      children: \"Valider\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n};\n_s(ScoreManager, \"b6XNvz/utBzzlcvpcTyOHI/+HRE=\");\n_c = ScoreManager;\nexport default ScoreManager;\nvar _c;\n$RefreshReg$(_c, \"ScoreManager\");","map":{"version":3,"names":["React","useContext","scoreListContext","playerListContext","roundContext","ScoreManager","scoreList","setScoreList","playerList","round","setRound","lance","setLance","useState","player","setPlayer","updateScore","score","newScoreList","toString","document","getElementById","scoreValue","parseInt","value","numlance","remove","alert"],"sources":["/home/death-joke/Bureau/App4/qualité logiciel/Bowling1.1/bowlingv2/src/scoreManager.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport {scoreListContext} from \"./context/scorelist\";\nimport {playerListContext} from \"./context/playerlist\";\nimport {roundContext} from \"./context/round\";\n\n const ScoreManager = () => {\n    const { scoreList,setScoreList} = useContext(scoreListContext);\n    const { playerList} = useContext(playerListContext);\n    const { round,setRound} = useContext(roundContext);\n    const [lance, setLance] = React.useState(0);\n    const [player, setPlayer] = React.useState(0);\n\n    const updateScore = (player: number, lance: number, score: number) => {        \n        var newScoreList = scoreList;       \n        if(score === 10 && (lance%2 === 0 || lance===19) ){\n            newScoreList[player][lance] = 'X';\n        }else if(score + +scoreList[player][lance-1] === 10 && (lance%2)===1){\n            newScoreList[player][lance] = '/';\n        }else{\n            newScoreList[player][lance] = score.toString();\n        }\n        setScoreList(newScoreList);        \n    }\n\n\n \n    return (        \n        <div className=\"scoreManager\">             \n            Au tour de {playerList[player]}<br></br>\n            Tour n°{round} | Lance n°{lance+1}<br></br>\n            <select id = \"quilles\">\n                <option value = \"0\">0</option>\n                <option value = \"1\">1</option>\n                <option value = \"2\">2</option>\n                <option value = \"3\">3</option>\n                <option value = \"4\">4</option>\n                <option value = \"5\">5</option>\n                <option value = \"6\">6</option>\n                <option value = \"7\">7</option>\n                <option value = \"8\">8</option>\n                <option value = \"9\">9</option>\n                <option value = \"10\">10</option>\n            </select>\n            <button id=\"quillesupdate\" onClick={()=>{\n                var score = document.getElementById(\"quilles\") as HTMLSelectElement;\n                var scoreValue = parseInt(score.value);\n                var numlance = 2*round-2+lance;\n            \n               \n                \n                if(round < 10 && lance === 1 && scoreValue + +scoreList[player][numlance-1] <= 10 || (round === 10 )|| (lance === 0)){\n                   \n                    updateScore(player, numlance, scoreValue);\n\n\n                    if(round<10){\n                        if(scoreValue === 10 && lance === 0){\n                            setLance(0);\n                            if(player ===1){\n                                setRound(round+1);\n                            }\n                        }else{\n                            setLance((lance+1)%2);\n                        }\n                        if(player ===1 && lance === 1){\n                            setRound(round+1);\n                        }\n                        if((lance === 1 || lance === 0) && scoreValue === 10){\n                            setPlayer((player+1)%2);\n                        }\n                    }\n                    else{ //round 10\n                        \n                        if(lance === 2 && player === 1){\n                           \n                            document.getElementById(\"quilles\")?.remove(); //end game\n                            document.getElementById(\"quillesupdate\")?.remove(); //end game\n                            setLance(0);\n                        }else if (lance === 2){\n                            setPlayer(1);\n                            setLance(0);\n                        }\n\n                        if(lance === 1 && scoreList[player][numlance-1] === 'X' || scoreList[player][numlance] === '/'){\n                            setLance(2);\n                        }else if(lance === 1 && player === 1){\n                            document.getElementById(\"quillesupdate\")?.remove(); //end game\n                            setLance(0);\n                        }else if(lance === 1){\n                            setPlayer(1);\n                            setLance(0);\n                        }else if (lance !==2){\n                            setLance((lance+1)%2);\n                        }\n\n                    }\n                }else{\n                    alert(\"Score invalide\")\n                }\n            }\n            }>Valider</button>      \n       </div>\n    );    \n}\nexport default ScoreManager;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}