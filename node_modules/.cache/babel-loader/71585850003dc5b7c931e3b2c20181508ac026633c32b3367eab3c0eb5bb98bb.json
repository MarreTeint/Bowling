{"ast":null,"code":"var _jsxFileName = \"/home/death-joke/Bureau/App4/qualit\\xE9 logiciel/Bowling1.1/bowlingv2/src/scoreManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from \"react\";\nimport { scoreListContext } from \"./context/scorelist\";\nimport { playerListContext } from \"./context/playerlist\";\nimport { roundContext } from \"./context/round\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScoreManager = () => {\n  _s();\n  const {\n    scoreList,\n    setScoreList\n  } = useContext(scoreListContext);\n  const {\n    playerList\n  } = useContext(playerListContext);\n  const {\n    round,\n    setRound\n  } = useContext(roundContext);\n  const [lance, setLance] = React.useState(0);\n  const [player, setPlayer] = React.useState(0);\n  useEffect(() => {\n    console.log(\"Round has been updated\");\n  }, [round]);\n  const updateScore = (player, lance, score) => {\n    var newScoreList = scoreList;\n    if (score === 10 && lance % 2 === 0 || lance === 19) {\n      newScoreList[player][lance] = 'X';\n    } else if (score + +scoreList[player][lance - 1] === 10 && lance % 2 === 1) {\n      newScoreList[player][lance] = '/';\n    } else {\n      newScoreList[player][lance] = score.toString();\n    }\n    setScoreList(newScoreList);\n    console.log(scoreList);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"scoreManager\",\n    children: [\"Au tour de \", playerList[player], /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 44\n    }, this), \"Tour n\\xB0\", round, \" | Lance n\\xB0\", lance + 1, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 47\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"quilles\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"0\",\n        children: \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"1\",\n        children: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"2\",\n        children: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"3\",\n        children: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"4\",\n        children: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"5\",\n        children: \"5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"6\",\n        children: \"6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"7\",\n        children: \"7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"8\",\n        children: \"8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"9\",\n        children: \"9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"10\",\n        children: \"10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"quillesupdate\",\n      onClick: () => {\n        var score = document.getElementById(\"quilles\");\n        var scoreValue = parseInt(score.value);\n        var numlance = 2 * round - 2 + lance;\n        if (round < 10 && lance === 1 && scoreValue + +scoreList[player][numlance - 1] <= 10 || round === 10 || lance === 0) {\n          updateScore(player, numlance, scoreValue);\n          if (round < 10) {\n            if (scoreValue === 10 && lance === 0) {\n              setLance(0);\n              if (player === 1) {\n                setRound(round + 1);\n              }\n            } else {\n              setLance((lance + 1) % 2);\n            }\n            if (player === 1 && lance === 1) {\n              setRound(round + 1);\n            }\n            if ((lance === 1 || lance === 0) && scoreValue === 10) {\n              setPlayer((player + 1) % 2);\n            }\n          } else {\n            //round 10\n\n            if (lance === 2 && player === 1) {\n              var _document$getElementB, _document$getElementB2;\n              (_document$getElementB = document.getElementById(\"quilles\")) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.remove(); //end game\n              (_document$getElementB2 = document.getElementById(\"quillesupdate\")) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.remove(); //end game\n              setLance(0);\n            } else if (lance === 2) {\n              setPlayer(1);\n              setLance(0);\n            }\n            if (lance === 1 && scoreList[player][numlance - 1] === 'X' || scoreList[player][numlance] === '/') {\n              setLance(2);\n            } else if (lance === 1 && player === 1) {\n              var _document$getElementB3;\n              (_document$getElementB3 = document.getElementById(\"quillesupdate\")) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.remove(); //end game\n              setLance(0);\n            } else if (lance === 1) {\n              setPlayer(1);\n              setLance(0);\n            } else if (lance !== 2) {\n              setLance((lance + 1) % 2);\n            }\n          }\n        } else {\n          alert(\"Score invalide\");\n        }\n      },\n      children: \"Valider\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n_s(ScoreManager, \"mKb32AX+mQklyHZ+lkkoDnqSJOE=\");\n_c = ScoreManager;\nexport default ScoreManager;\nvar _c;\n$RefreshReg$(_c, \"ScoreManager\");","map":{"version":3,"names":["React","useContext","useEffect","scoreListContext","playerListContext","roundContext","ScoreManager","scoreList","setScoreList","playerList","round","setRound","lance","setLance","useState","player","setPlayer","console","log","updateScore","score","newScoreList","toString","document","getElementById","scoreValue","parseInt","value","numlance","remove","alert"],"sources":["/home/death-joke/Bureau/App4/qualité logiciel/Bowling1.1/bowlingv2/src/scoreManager.tsx"],"sourcesContent":["import React, { useContext ,useEffect} from \"react\";\nimport {scoreListContext} from \"./context/scorelist\";\nimport {playerListContext} from \"./context/playerlist\";\nimport {roundContext} from \"./context/round\";\n\n const ScoreManager = () => {\n    const { scoreList,setScoreList} = useContext(scoreListContext);\n    const { playerList} = useContext(playerListContext);\n    const { round,setRound} = useContext(roundContext);\n    const [lance, setLance] = React.useState(0);\n    const [player, setPlayer] = React.useState(0);\n\n    useEffect(() => {\n        console.log(\"Round has been updated\")\n    }, [round])\n\n    const updateScore = (player: number, lance: number, score: number) => {        \n        var newScoreList = scoreList;       \n        if(score === 10 && lance%2 === 0 || lance===19){\n            newScoreList[player][lance] = 'X';\n        }else if(score + +scoreList[player][lance-1] === 10 && (lance%2)===1){\n            newScoreList[player][lance] = '/';\n        }else{\n            newScoreList[player][lance] = score.toString();\n        }\n        setScoreList(newScoreList);    \n        console.log(scoreList);    \n    }\n\n\n \n    return (        \n        <div className=\"scoreManager\">             \n            Au tour de {playerList[player]}<br></br>\n            Tour n°{round} | Lance n°{lance+1}<br></br>\n            <select id = \"quilles\">\n                <option value = \"0\">0</option>\n                <option value = \"1\">1</option>\n                <option value = \"2\">2</option>\n                <option value = \"3\">3</option>\n                <option value = \"4\">4</option>\n                <option value = \"5\">5</option>\n                <option value = \"6\">6</option>\n                <option value = \"7\">7</option>\n                <option value = \"8\">8</option>\n                <option value = \"9\">9</option>\n                <option value = \"10\">10</option>\n            </select>\n            <button id=\"quillesupdate\" onClick={()=>{\n                var score = document.getElementById(\"quilles\") as HTMLSelectElement;\n                var scoreValue = parseInt(score.value);\n                var numlance = 2*round-2+lance;\n            \n               \n                \n                if((round < 10 && lance === 1 && scoreValue + +scoreList[player][numlance-1] <= 10 )|| (round === 10 )|| (lance === 0)){\n                   \n                    updateScore(player, numlance, scoreValue);\n\n\n                    if(round<10){\n                        if(scoreValue === 10 && lance === 0){\n                            setLance(0);\n                            if(player ===1){\n                                setRound(round+1);\n                            }\n                        }else{\n                            setLance((lance+1)%2);\n                        }\n                        if(player ===1 && lance === 1){\n                            setRound(round+1);\n                        }\n                        if((lance === 1 || lance === 0) && scoreValue === 10){\n                            setPlayer((player+1)%2);\n                        }\n                    }\n                    else{ //round 10\n                        \n                        if(lance === 2 && player === 1){\n                           \n                            document.getElementById(\"quilles\")?.remove(); //end game\n                            document.getElementById(\"quillesupdate\")?.remove(); //end game\n                            setLance(0);\n                        }else if (lance === 2){\n                            setPlayer(1);\n                            setLance(0);\n                        }\n\n                        if((lance === 1 && scoreList[player][numlance-1] === 'X' )|| scoreList[player][numlance] === '/'){\n                            setLance(2);\n                        }else if(lance === 1 && player === 1){\n                            document.getElementById(\"quillesupdate\")?.remove(); //end game\n                            setLance(0);\n                        }else if(lance === 1){\n                            setPlayer(1);\n                            setLance(0);\n                        }else if (lance !==2){\n                            setLance((lance+1)%2);\n                        }\n\n                    }\n                }else{\n                    alert(\"Score invalide\")\n                }\n            }\n            }>Valider</button>      \n       </div>\n    );    \n}\nexport default ScoreManager;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}