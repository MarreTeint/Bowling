{"ast":null,"code":"var _jsxFileName = \"/home/death-joke/Bureau/App4/qualit\\xE9 logiciel/Bowling1.1/bowlingv2/src/scoreManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport { scoreListContext } from \"./context/scorelist\";\nimport { playerListContext } from \"./context/playerlist\";\nimport { roundContext } from \"./context/round\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScoreManager = () => {\n  _s();\n  const {\n    scoreList,\n    setScoreList\n  } = useContext(scoreListContext);\n  const {\n    playerList\n  } = useContext(playerListContext);\n  const {\n    round,\n    setRound\n  } = useContext(roundContext);\n  const updateScore = (player, lance, score) => {\n    var newScoreList = scoreList;\n    if (score === 10 && (lance % 2 === 0 || lance === 19)) {\n      newScoreList[player][lance] = 'X';\n    } else if (score + +scoreList[player][lance - 1] === 10 && lance % 2 === 1) {\n      newScoreList[player][lance] = '/';\n    } else {\n      newScoreList[player][lance] = score.toString();\n    }\n    setScoreList(newScoreList);\n  };\n  const [lance, setLance] = React.useState(0);\n  const [player, setPlayer] = React.useState(0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"scoreManager\",\n    children: [\"Au tour de \", playerList[player], /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 44\n    }, this), \"Tour n\\xB0\", round, \" | Lance n\\xB0\", lance + 1, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 47\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"quilles\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"0\",\n        children: \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"1\",\n        children: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"2\",\n        children: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"3\",\n        children: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"4\",\n        children: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"5\",\n        children: \"5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"6\",\n        children: \"6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"7\",\n        children: \"7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"8\",\n        children: \"8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"9\",\n        children: \"9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"10\",\n        children: \"10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"quillesupdate\",\n      onClick: () => {\n        var score = document.getElementById(\"quilles\");\n        var scoreValue = parseInt(score.value);\n        var numlance = 2 * round - 2 + lance;\n        if (round < 10 && lance === 1 && scoreValue + +scoreList[player][numlance - 1] <= 10 || round === 10 || lance === 0) {\n          updateScore(player, numlance, scoreValue);\n          if (round < 10) {\n            if (scoreValue === 10 && lance === 0) {\n              setLance(0);\n              if (player === 1) {\n                setRound(round + 1);\n              }\n            } else {\n              setLance((lance + 1) % 2);\n            }\n            if (player === 1 && lance === 1) {\n              setRound(round + 1);\n            }\n            if (lance === 1 || lance === 0 && scoreValue === 10) {\n              setPlayer((player + 1) % 2);\n            }\n          } else {\n            //round 10\n\n            if (lance === 2 && player === 1) {\n              var _document$getElementB, _document$getElementB2;\n              (_document$getElementB = document.getElementById(\"quilles\")) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.remove(); //end game\n              (_document$getElementB2 = document.getElementById(\"quillesupdate\")) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.remove(); //end game\n              setLance(0);\n            } else if (lance === 2) {\n              setPlayer(1);\n              setLance(0);\n            }\n            if (lance === 1 && scoreList[player][numlance - 1] === 'X' || scoreList[player][numlance] === '/') {\n              setLance(2);\n            } else if (lance === 1 && player === 1) {\n              var _document$getElementB3;\n              (_document$getElementB3 = document.getElementById(\"quillesupdate\")) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.remove(); //end game\n              setLance(0);\n            } else if (lance === 1) {\n              setPlayer(1);\n              setLance(0);\n            } else if (lance !== 2) {\n              setLance((lance + 1) % 2);\n            }\n          }\n        } else {\n          alert(\"Score invalide\");\n        }\n      },\n      children: \"Valider\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n_s(ScoreManager, \"b6XNvz/utBzzlcvpcTyOHI/+HRE=\");\n_c = ScoreManager;\nexport default ScoreManager;\nvar _c;\n$RefreshReg$(_c, \"ScoreManager\");","map":{"version":3,"names":["React","useContext","scoreListContext","playerListContext","roundContext","ScoreManager","scoreList","setScoreList","playerList","round","setRound","updateScore","player","lance","score","newScoreList","toString","setLance","useState","setPlayer","document","getElementById","scoreValue","parseInt","value","numlance","remove","alert"],"sources":["/home/death-joke/Bureau/App4/qualité logiciel/Bowling1.1/bowlingv2/src/scoreManager.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport {scoreListContext} from \"./context/scorelist\";\nimport {playerListContext} from \"./context/playerlist\";\nimport {roundContext} from \"./context/round\";\n\n const ScoreManager = () => {\n    const { scoreList,setScoreList} = useContext(scoreListContext);\n    const { playerList} = useContext(playerListContext);\n    const { round,setRound} = useContext(roundContext);\n    const updateScore = (player: number, lance: number, score: number) => {\n        \n        var newScoreList = scoreList;       \n        if(score === 10 && (lance%2 === 0 || lance===19) ){\n            newScoreList[player][lance] = 'X';\n        }else if(score + +scoreList[player][lance-1] === 10 && (lance%2)===1){\n            newScoreList[player][lance] = '/';\n        }else{\n            newScoreList[player][lance] = score.toString();\n        }\n\n        setScoreList(newScoreList);\n        \n    }\n\n\n \n    const [lance, setLance] = React.useState(0);\n    const [player, setPlayer] = React.useState(0);\n    return (        \n        <div className=\"scoreManager\">\n             \n            Au tour de {playerList[player]}<br></br>\n            Tour n°{round} | Lance n°{lance+1}<br></br>\n            <select id = \"quilles\">\n                <option value = \"0\">0</option>\n                <option value = \"1\">1</option>\n                <option value = \"2\">2</option>\n                <option value = \"3\">3</option>\n                <option value = \"4\">4</option>\n                <option value = \"5\">5</option>\n                <option value = \"6\">6</option>\n                <option value = \"7\">7</option>\n                <option value = \"8\">8</option>\n                <option value = \"9\">9</option>\n                <option value = \"10\">10</option>\n            </select>\n            <button id=\"quillesupdate\" onClick={()=>{\n                var score = document.getElementById(\"quilles\") as HTMLSelectElement;\n                var scoreValue = parseInt(score.value);\n                var numlance = 2*round-2+lance;\n            \n               \n                \n                if(round < 10 && lance === 1 && scoreValue + +scoreList[player][numlance-1] <= 10 || (round === 10 )|| (lance === 0)){\n                   \n                    updateScore(player, numlance, scoreValue);\n\n\n                    if(round<10){\n                        if(scoreValue === 10 && lance === 0){\n                            setLance(0);\n                            if(player ===1){\n                                setRound(round+1);\n                            }\n                        }else{\n                            setLance((lance+1)%2);\n                        }\n                        if(player ===1 && lance === 1){\n                            setRound(round+1);\n                        }\n                        if(lance === 1 || lance === 0 && scoreValue === 10){\n                            setPlayer((player+1)%2);\n                        }\n                    }\n                    else{ //round 10\n                        \n                        if(lance === 2 && player === 1){\n                           \n                            document.getElementById(\"quilles\")?.remove(); //end game\n                            document.getElementById(\"quillesupdate\")?.remove(); //end game\n                            setLance(0);\n                        }else if (lance === 2){\n                            setPlayer(1);\n                            setLance(0);\n                        }\n\n                        if(lance === 1 && scoreList[player][numlance-1] === 'X' || scoreList[player][numlance] === '/'){\n                            setLance(2);\n                        }else if(lance === 1 && player === 1){\n                            document.getElementById(\"quillesupdate\")?.remove(); //end game\n                            setLance(0);\n                        }else if(lance === 1){\n                            setPlayer(1);\n                            setLance(0);\n                        }else if (lance !==2){\n                            setLance((lance+1)%2);\n                        }\n\n                    }\n                }else{\n                    alert(\"Score invalide\")\n                }\n            }\n            }>Valider</button>      \n       </div>\n    );    \n}\nexport default ScoreManager;\n\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAAQC,gBAAgB,QAAO,qBAAqB;AACpD,SAAQC,iBAAiB,QAAO,sBAAsB;AACtD,SAAQC,YAAY,QAAO,iBAAiB;AAAC;AAE5C,MAAMC,YAAY,GAAG,MAAM;EAAA;EACxB,MAAM;IAAEC,SAAS;IAACC;EAAY,CAAC,GAAGN,UAAU,CAACC,gBAAgB,CAAC;EAC9D,MAAM;IAAEM;EAAU,CAAC,GAAGP,UAAU,CAACE,iBAAiB,CAAC;EACnD,MAAM;IAAEM,KAAK;IAACC;EAAQ,CAAC,GAAGT,UAAU,CAACG,YAAY,CAAC;EAClD,MAAMO,WAAW,GAAG,CAACC,MAAc,EAAEC,KAAa,EAAEC,KAAa,KAAK;IAElE,IAAIC,YAAY,GAAGT,SAAS;IAC5B,IAAGQ,KAAK,KAAK,EAAE,KAAKD,KAAK,GAAC,CAAC,KAAK,CAAC,IAAIA,KAAK,KAAG,EAAE,CAAC,EAAE;MAC9CE,YAAY,CAACH,MAAM,CAAC,CAACC,KAAK,CAAC,GAAG,GAAG;IACrC,CAAC,MAAK,IAAGC,KAAK,GAAG,CAACR,SAAS,CAACM,MAAM,CAAC,CAACC,KAAK,GAAC,CAAC,CAAC,KAAK,EAAE,IAAKA,KAAK,GAAC,CAAC,KAAI,CAAC,EAAC;MACjEE,YAAY,CAACH,MAAM,CAAC,CAACC,KAAK,CAAC,GAAG,GAAG;IACrC,CAAC,MAAI;MACDE,YAAY,CAACH,MAAM,CAAC,CAACC,KAAK,CAAC,GAAGC,KAAK,CAACE,QAAQ,EAAE;IAClD;IAEAT,YAAY,CAACQ,YAAY,CAAC;EAE9B,CAAC;EAID,MAAM,CAACF,KAAK,EAAEI,QAAQ,CAAC,GAAGjB,KAAK,CAACkB,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACN,MAAM,EAAEO,SAAS,CAAC,GAAGnB,KAAK,CAACkB,QAAQ,CAAC,CAAC,CAAC;EAC7C,oBACI;IAAK,SAAS,EAAC,cAAc;IAAA,WAAC,aAEf,EAACV,UAAU,CAACI,MAAM,CAAC,eAAC;MAAA;MAAA;MAAA;IAAA,QAAS,cACjC,EAACH,KAAK,EAAC,gBAAW,EAACI,KAAK,GAAC,CAAC,eAAC;MAAA;MAAA;MAAA;IAAA,QAAS,eAC3C;MAAQ,EAAE,EAAG,SAAS;MAAA,wBAClB;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,GAAG;QAAA,UAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAQ,KAAK,EAAG,IAAI;QAAA,UAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QAC3B,eACT;MAAQ,EAAE,EAAC,eAAe;MAAC,OAAO,EAAE,MAAI;QACpC,IAAIC,KAAK,GAAGM,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAsB;QACnE,IAAIC,UAAU,GAAGC,QAAQ,CAACT,KAAK,CAACU,KAAK,CAAC;QACtC,IAAIC,QAAQ,GAAG,CAAC,GAAChB,KAAK,GAAC,CAAC,GAACI,KAAK;QAI9B,IAAGJ,KAAK,GAAG,EAAE,IAAII,KAAK,KAAK,CAAC,IAAIS,UAAU,GAAG,CAAChB,SAAS,CAACM,MAAM,CAAC,CAACa,QAAQ,GAAC,CAAC,CAAC,IAAI,EAAE,IAAKhB,KAAK,KAAK,EAAI,IAAII,KAAK,KAAK,CAAE,EAAC;UAEjHF,WAAW,CAACC,MAAM,EAAEa,QAAQ,EAAEH,UAAU,CAAC;UAGzC,IAAGb,KAAK,GAAC,EAAE,EAAC;YACR,IAAGa,UAAU,KAAK,EAAE,IAAIT,KAAK,KAAK,CAAC,EAAC;cAChCI,QAAQ,CAAC,CAAC,CAAC;cACX,IAAGL,MAAM,KAAI,CAAC,EAAC;gBACXF,QAAQ,CAACD,KAAK,GAAC,CAAC,CAAC;cACrB;YACJ,CAAC,MAAI;cACDQ,QAAQ,CAAC,CAACJ,KAAK,GAAC,CAAC,IAAE,CAAC,CAAC;YACzB;YACA,IAAGD,MAAM,KAAI,CAAC,IAAIC,KAAK,KAAK,CAAC,EAAC;cAC1BH,QAAQ,CAACD,KAAK,GAAC,CAAC,CAAC;YACrB;YACA,IAAGI,KAAK,KAAK,CAAC,IAAIA,KAAK,KAAK,CAAC,IAAIS,UAAU,KAAK,EAAE,EAAC;cAC/CH,SAAS,CAAC,CAACP,MAAM,GAAC,CAAC,IAAE,CAAC,CAAC;YAC3B;UACJ,CAAC,MACG;YAAE;;YAEF,IAAGC,KAAK,KAAK,CAAC,IAAID,MAAM,KAAK,CAAC,EAAC;cAAA;cAE3B,yBAAAQ,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,0DAAlC,sBAAoCK,MAAM,EAAE,CAAC,CAAC;cAC9C,0BAAAN,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,2DAAxC,uBAA0CK,MAAM,EAAE,CAAC,CAAC;cACpDT,QAAQ,CAAC,CAAC,CAAC;YACf,CAAC,MAAK,IAAIJ,KAAK,KAAK,CAAC,EAAC;cAClBM,SAAS,CAAC,CAAC,CAAC;cACZF,QAAQ,CAAC,CAAC,CAAC;YACf;YAEA,IAAGJ,KAAK,KAAK,CAAC,IAAIP,SAAS,CAACM,MAAM,CAAC,CAACa,QAAQ,GAAC,CAAC,CAAC,KAAK,GAAG,IAAInB,SAAS,CAACM,MAAM,CAAC,CAACa,QAAQ,CAAC,KAAK,GAAG,EAAC;cAC3FR,QAAQ,CAAC,CAAC,CAAC;YACf,CAAC,MAAK,IAAGJ,KAAK,KAAK,CAAC,IAAID,MAAM,KAAK,CAAC,EAAC;cAAA;cACjC,0BAAAQ,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,2DAAxC,uBAA0CK,MAAM,EAAE,CAAC,CAAC;cACpDT,QAAQ,CAAC,CAAC,CAAC;YACf,CAAC,MAAK,IAAGJ,KAAK,KAAK,CAAC,EAAC;cACjBM,SAAS,CAAC,CAAC,CAAC;cACZF,QAAQ,CAAC,CAAC,CAAC;YACf,CAAC,MAAK,IAAIJ,KAAK,KAAI,CAAC,EAAC;cACjBI,QAAQ,CAAC,CAACJ,KAAK,GAAC,CAAC,IAAE,CAAC,CAAC;YACzB;UAEJ;QACJ,CAAC,MAAI;UACDc,KAAK,CAAC,gBAAgB,CAAC;QAC3B;MACJ,CACC;MAAA,UAAC;IAAO;MAAA;MAAA;MAAA;IAAA,QAAS;EAAA;IAAA;IAAA;IAAA;EAAA,QACjB;AAEb,CAAC;AAAA,GArGMtB,YAAY;AAAA,KAAZA,YAAY;AAsGnB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}